<ion-header [translucent]="true">
  <ion-toolbar color="primary">
      <ion-title>
          <div class="header-title">
              <ion-icon name="school-outline"></ion-icon>
              Soutiens-moi
          </div>
      </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="dashboard-content" color-scheme="light">

  <div *ngIf="isLoadingData" class="ion-text-center ion-padding-top">
      <ion-spinner name="crescent"></ion-spinner>
      <p>Chargement du tableau de bord...</p>
  </div>

  <div *ngIf="!isLoadingData">
      <div class="welcome-section">
          <div class="welcome-card">
              <div class="welcome-icon">
                  üëã
              </div>
              <h1>Bonjour {{ userName }} !</h1>
              <h2>Bienvenue sur <span class="app-name">Soutiens-moi</span></h2>
              <p class="welcome-question">Pr√™t √† commencer ?</p>
          </div>
      </div>

      <div class="quick-actions-section">
          <h3 class="section-title">
              <ion-icon name="flash-outline"></ion-icon>
              Actions rapides
          </h3>

          <div class="actions-grid">
              <div class="action-card" (click)="goToSearch()">
                  <div class="action-icon search-icon">
                      <ion-icon name="search-outline"></ion-icon>
                  </div>
                  <div class="action-content">
                      <h4>Rechercher</h4>
                      <p>Trouver un tuteur ou √©tudiant</p>
                  </div>
                  <ion-icon name="chevron-forward-outline" class="action-arrow"></ion-icon>
              </div>

              <div class="action-card" (click)="goToPlanning()">
                  <div class="action-icon calendar-icon">
                      <ion-icon name="calendar-outline"></ion-icon>
                  </div>
                  <div class="action-content">
                      <h4>Planifier</h4>
                      <p>Organiser une nouvelle s√©ance</p>
                  </div>
                  <ion-icon name="chevron-forward-outline" class="action-arrow"></ion-icon>
              </div>

              <div class="action-card" (click)="goToChat()">
                  <div class="action-icon chat-icon">
                      <ion-icon name="chatbubbles-outline"></ion-icon>
                  </div>
                  <div class="action-content">
                      <h4>Chat</h4>
                      <p>Communiquer avec vos contacts</p>
                  </div>
                  <ion-icon name="chevron-forward-outline" class="action-arrow"></ion-icon>
              </div>

              <div class="action-card" (click)="goToFAQ()">
                  <div class="action-icon help-icon">
                      <ion-icon name="help-circle-outline"></ion-icon>
                  </div>
                  <div class="action-content">
                      <h4>FAQ</h4>
                      <p>Questions fr√©quentes</p>
                  </div>
                  <ion-icon name="chevron-forward-outline" class="action-arrow"></ion-icon>
              </div>
          </div>
          </div>

      <div class="upcoming-sessions-section">
          <div class="section-header">
              <h3 class="section-title">
                  <ion-icon name="time-outline"></ion-icon>
                  Mes prochaines s√©ances
              </h3>
              <ion-button *ngIf="upcomingSessions.length > 0" fill="clear" size="small" (click)="viewAllSessions()">
                  Voir tout
              </ion-button>
          </div>

          <div class="sessions-list" *ngIf="upcomingSessions.length > 0">
              <div class="session-card" *ngFor="let session of upcomingSessions">
                  <div class="session-date">
                      <div class="day">{{ session.day }}</div>
                      <div class="month">{{ session.month }}</div>
                  </div>
                  <div class="session-info">
                      <h4>{{ session.subject }}</h4>
                      <p class="session-tutor">
                          <ion-icon name="person-outline"></ion-icon>
                          Avec {{ session.tutor }}
                      </p>
                      <p class="session-time">
                          <ion-icon name="time-outline"></ion-icon>
                          {{ session.time }}
                      </p>
                  </div>
                  <div class="session-mode">
                      <ion-badge [color]="session.mode === 'Pr√©sentiel' ? 'success' : 'primary'">
                          {{ session.mode }}
                      </ion-badge>
                  </div>
              </div>
          </div>

          <div class="no-sessions" *ngIf="upcomingSessions.length === 0">
              <h4>Aucune s√©ance programm√©e</h4>
              <p>Planifiez votre premi√®re s√©ance de tutorat</p>
              <ion-button fill="outline" color="primary" (click)="goToPlanning()">
                  <ion-icon name="add-outline" slot="start"></ion-icon>
                  Planifier une s√©ance
              </ion-button>
          </div>
      </div>

      <div class="stats-section">
          <h3 class="section-title">
              <ion-icon name="stats-chart-outline"></ion-icon>
              Mes statistiques
          </h3>

          <div class="stats-grid">
              <div class="stat-item">
                  <div class="stat-number">{{ userStats.totalSessions }}</div>
                  <div class="stat-label">S√©ances suivies</div>
              </div>
              <div class="stat-item">
                  <div class="stat-number">{{ userStats.hoursLearned }}</div>
                  <div class="stat-label">Heures d'apprentissage</div>
              </div>
              <div class="stat-item">
                  <div class="stat-number">{{ userStats.averageRating }}/5</div>
                  <div class="stat-label">Note moyenne</div>
              </div>
          </div>
      </div>
  </div>

</ion-content>
